<section data-ng-controller="MagazinesController" data-ng-init="findOne()">
    <div class="page-header">
        <h1>Edit Magazine</h1>
    </div>
    <div class="col-md-12">
        <form class="form-horizontal" data-ng-submit="update()" novalidate>
            <fieldset>
                <div class="form-group">
                    <label class="control-label" for="name">Name</label>
                    <div class="controls">
                        <input type="text" data-ng-model="magazine.name" id="name" class="form-control" placeholder="Name" required>
                    </div>
                </div>
                
                <div class="form-group">
				<label class="control-label" for="summary">Summary</label>
                    <div class="controls">
                        <textarea data-ng-model="magazine.summary" id="summary" class="form-control" placeholder="Summary"></textarea>
			        </div>
                </div>
        <!--        ------------------------------------------------------------------------
                <div class="form-group">
				<label for="imageURL">Magazine Cover</label>
				
					<img ng-src="{{imageURL}}" width="200px">
					<input id="imageURL" type="file" class="btn"
						   ng-file-select="onFileSelect($files, 'magazine/imageURL', magazineImageUpload); uploadingImage = true; imageURL = $files">

					<div ng-show="uploadingImage" ng-repeat="file in imageURL">
						<div class="progress">
							<div class="progress-bar" role="progressbar" style="width:{{file.progress}}%;">
								{{file.name}} : {{file.progress}}
							</div>
						</div>
					</div>
				</div>
                --------------------------------------------------------------------------- -->
                
                  <div class="form-group">
				<label class="control-label" for="rImageUrl">Magazine Cover Image</label>
                    <div class="controls">
                        <input name="rImageUrl" type="text" data-ng-model="magazine.rImageUrl" id="rImageUrl" class="form-control" placeholder="Article Image" required>
			        </div>
                </div>
                
                <div class="form-group">
                    <label class="control-label" for="name">Year Quarter</label>
                    <div class="controls">
                        <input type="text" data-ng-model="magazine.yearQuarter" id="yearQuarter" class="form-control" placeholder="Year Quarter">
                    </div>
                </div>
                
                 <div class="form-group">
                    <label class="control-label" for="name">Year Number</label>
                    <div class="controls">
                        <input type="text" data-ng-model="magazine.yearNumber" id="yearNumber" class="form-control" placeholder="Year Number">
                    </div>
                </div>
                
                  <div class="form-group">
                    <label class="control-label" for="name">Publish Date</label>
                    <div class="controls">
                        <input type="text" data-ng-model="magazine.publishDate" id="publishDate" class="form-control" placeholder="Publish Date">
                    </div>
                </div>

                <label class="control-label">Sale Points</label>
                </br>
      <div class="form-group" >
    <div class="controls" for="storeName">
        <input type="text" data-ng-model="storeName" id="storeName" class="form-control" placeholder="Store Name" class="ng-pristine ng-valid">
    </div>
    </br>
    <div class="controls" for="storeLocation">
        <input type="text" data-ng-model="storeLocation" id="storeLocation" class="form-control" placeholder="Store Location" class="ng-pristine ng-valid">
    </div></br>
    <div class="pull-right">
        <button type="button" class="btn-success" ng-click='addSalePoints()'>
            <i class="glyphicon glyphicon-ok"></i>
        </button>
    </div>
</div>

    <div class="row">
            <div ng-hide="addingSalePoints" class="col-sm-10 col-md-10 center grey-back" ng-repeat="salePoint in magazine.salePoints">
                <label class="control-label">Store Name</label><p> {{salePoint.storeName}}</p><br>
           
                <label class="control-label">Store Location</label><p> {{salePoint.storeLocation}}</p>
                <div>
                    <button type="button" data-ng-show="authentication.user._id == magazine.user._id" class="btn-danger" id="trashButton" ng-click="removeSalePoints(salePoint)">
                        <i class="glyphicon glyphicon-trash"></i>
                    </button>
                </div>
   
            </div>
            <div class="center" data-ng-hide="magazine.salePoints.length == 0"></div>
    </div>

    </br>
            
                 <div class="form-group">
                    <label class="control-label" for="name">Price</label>
                    <div class="controls">
                        <input type="text" data-ng-model="magazine.price" id="price" class="form-control" placeholder="Price">
                    </div>
                </div>
                
                <div class="form-group">
                    <input type="submit" value="Update" class="btn btn-default">
                </div>
				<div data-ng-show="error" class="text-danger">
					<strong data-ng-bind="error"></strong>
				</div>
            </fieldset>
        </form>
    </div>
</section>